apply plugin: 'com.android.application'

android
{
  compileSdkVersion 23
  buildToolsVersion "23.0.2"

  defaultConfig
  {
    // No dots allowed in versionCode, so just use sequential integer.
    // Version shown in Samsung Application Manager info (not in Google Nexus)
    // 
    // versionName = versionCode = VERSION in ../build/Makefile
    //
    // minSdkVersion   : Galaxy Note III runs API 21
    // targetSdkVersion: lint complains if not latest

    applicationId "org.stephe_leake.android.stephes_music"
    minSdkVersion 21
    targetSdkVersion 23
    versionName "17"
    versionCode 17
  }

  signingConfigs
  {
    release
    {
      storeFile file("c:/home/stephe/.android/debug.keystore")
      storePassword "android"
      keyAlias "androiddebugkey"
      keyPassword "android"
    }
  }
     
  applicationVariants.all
  {
    // FIXME: replace 'app' with 'org.stephe-leake.music_player'
    variant ->
      variant.outputs.each { output ->
        output.outputFile = new File(
          output.outputFile.parent,
          output.outputFile.name.replace(".apk", "-${variant.versionName}.apk"))
      }
  }
    
  buildTypes
  {
    release
    {
      minifyEnabled false
      signingConfig signingConfigs.release
    }
  }

  // compileJava
  // {
  //   // FIXME: there must be a way to put this in 'lintOptions'!
  //   options.compilerArgs << "-Xlint:unchecked"
  // }
  
  lintOptions
  {
    // see also lint.xml

    // Notification uses "left" for gravity
    disable 'RtlHardcoded'

    // okhttp3 references java.nio.file; not in Android. Let's hope it's not used.
    disable 'InvalidPackage'

  }
}

dependencies
{
  compile files('d:/Archive/Android/libs/commons-io-2.5.jar')
  compile 'com.squareup.okhttp3:okhttp:3.4.2'

  testCompile 'junit:junit:4.12'
  testCompile 'org.mockito:mockito-core:1.10.19'
}
  
// end of file
